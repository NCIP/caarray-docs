USER STORY: Parse Agilent Raw TXT for miRNA assays

As a Data Owner, I want to import an Agilent raw data file in TXT format and associate it to biomaterials in the context of an miRNA assay.

1. Flow:

* The user (Data Owner) uploads a file into an experiment and changes the file type to "Agilent Raw TXT".
* The user chooses to import the file (possibly along with other files).
* The system parses and validates the file to make sure:
  + the file conforms to the expected format (see section 2).
  + every probe name in the data file can be correlated to a probe name in the array design.
* If the file passes validation, then the data values for the appropriate quantitation types (see section 2) are stored and associated to probes.
* If the file fails validation, the file ends up in the Import Failed state.

2. Expected format of the TXT file:

* The file is a plain text file with tab-delimited values.
* There 3 sections in the file: FEPARAMS, STATS and FEATURES. The first 2 sections may not be present (configurable in the Agilent Feature Extraction software output). In any case, we are interested in only the FEATURES section.
* The FEATURES section itself has 3 header rows: TYPE, FEATURES and DATA.
* Ignore the TYPE header row. For our purposes, the data type of each quantitation type is predefined and static.
* The columns we are interested in are:
  ProbeName             (String)  ..... use this to match against probe names in array design
  SystematicName        (String)  ..... if ProbeName has no match in array design, then try matching this against probe names in array design
  gTotalProbeSignal     (float)
  gTotalProbeError      (float)
  gTotalGeneSignal      (float)
  gTotalGeneError       (float)
  gIsGeneDetected       (boolean: 0 or 1)
* The ProbeName and gTotalProbeSignal columns are mandatory, and must have non-null, non-empty values.
* The same ProbeName will be present in multiple rows since probes are replicated. But it is safe to assume that the values for all quantitation types (gTotalProbeSignal etc.) will be the same for all replicates. (This is because these are values that are rolled up / averaged across the multiple replicates.)
* If ProbeName value cannot be matched up with a probe from the array design, try to use the SystematicName value to match.
* Case is unimportant in the column names.
* The order of columns is unimportant.
* Additional columns not described in this section will be present and should be ignored while parsing.
* The values for the quantitation types (gTotalProbeSignal, gTotalProbeError, gTotalGeneSignal, gTotalGeneError, gIsGeneDetected) should be associated with PhysicalProbes.

3. Example files:

Example files are under example_files/raw_txt/miRNA/:
* miRNA_251911812798_S01_miRNA-v1_10_Apr08_1_2.txt uses the "019118_D_20080214.xml" array design.
* miRNA_252182810120_S01_miRNA-v1_10_Apr08_1_1.txt uses the "Mouse miRNA Microarray 2.0.xml" array design.
